{"type":"group","name":"msysfury","enabled":true,"id":1,"items":[{"type":"function","name":"onLoad","enabled":true,"id":2,"code":"MSys.SFCIversion = 1.4\nMSys.SFCIrequiredCore = 1.4\n\nif (MSys == undefined || MSys.coreVersion == undefined || MSys.coreVersion < MSys.SFCIrequiredCore) {\n    display_notice('Starwraith Fury Combat Implant v' + MSys.SFCIversion + ' requires MSysCore v' + MSys.SFCIrequiredCore + ' or later','gold');\n    return;\n}\n\n//Fury\nMSys.shortname = 'SFCI'\nMSys.stance = ''\nMSys.bladeshape = false\nMSys.rage = 0\nMSys.maxRage = 0\nMSys.unstoppable = false\nMSys.berserk = false\nMSys.useBerserk = get_variable('useBerserk')\nMSys.fever = false\nMSys.useFever = get_variable('useFever')\nMSys.hypertension = false\nMSys.infernoCharging = false\nMSys.harden = false\nMSys.warmth = false\nMSys.balancing = false\nMSys.firewreathe = false\nMSys.huntingAttack = function() {\n    //Fury\n    var command = 'combo '\n\n    if (MSys.interrupt && MSys.offenseEnabled) {\n        send_command('kith fever ' + get_variable('tar'))\n        return;\n    }\n\n    if (MSys.health / MSys.maxHealth < .8 && MSys.healReady  && MSys.useHeal) {\n        send_command('kith suffuse')\n        return;\n    }else if (!MSys.bladeshape && get_variable('kithbladeshape') !== undefined && get_variable('kithbladeshape') !== '') {\n        send_command(get_variable('kithbladeshape'))\n        return;\n    }else if (!MSys.harden)      { command = 'kith harden'\n\t}else if (!MSys.warmth)      { command = 'kith warmth'\n\t}else if (!MSys.balancing)   { command = 'kith balancing'\n\t}else if (!MSys.firewreathe) { command = 'kith firewreathe'\n    }else if (get_variable('tar') == '' || MSys.offenseEnabled == false) {\n        return;\n    }else if (!MSys.fever && MSys.useFever) {\n        command = 'kith fever ';\n    }else if (MSys.goal == 'hunt1') {\n        //Battleflow attack\n        if (MSys.stance == 'Symmetry') {\n            command += 'swiftcut '\n        } else if (MSys.stance == 'Flare') {\n            command += 'wound '\n        } else if (MSys.stance == 'Eruption') {\n            if (MSys.hypertension) {\n                command += 'bloodburn '\n            } else {\n                command += 'hypertension '\n            }\n        } else if (MSys.stance == 'Ember') {\n            command += 'legspike '\n        }\n\n        //Rage Attack\n        if (MSys.unstoppable) {\n            command += 'slice '\n        } else if (MSys.stance == 'Symmetry') {\n            if (MSys.rage / MSys.maxRage > .13 && !MSys.berserk && MSys.useBerserk) {\n                command += 'berserk '\n            } else {\n                command += 'flyinglash '\n            }\n        } else if (MSys.stance == 'Flare') {\n            command += 'rend '\n        } else if (MSys.stance == 'Eruption') {\n            if (MSys.health / MSys.maxHealth < .7) {\n                command += 'resistant '\n            } else {\n                command += 'upperlash '\n            }\n        } else if (MSys.stance == 'Ember') {\n            if (MSys.rage / MSys.maxRage > .73  && MSys.unstoppable == false) {\n                command += 'unstoppable '\n            } else {\n                command += 'strike '\n            }\n        }\n    }else if (MSys.goal == 'hunt2' && MSys.first_name != 'Oga') {\n        //Battleflow attack\n        if (MSys.stance == 'Symmetry') {\n            command += 'swiftcut '\n        } else if (MSys.stance == 'Flare') {\n            command += 'wound '\n        } else if (MSys.stance == 'Eruption') {\n            command += 'rupture '\n        }\n\n        //Rage Attack\n        if (MSys.unstoppable) {\n            command += 'slice '\n        } else if (MSys.stance == 'Symmetry') {\n            if (MSys.rage / MSys.maxRage > .13 && !MSys.berserk && MSys.useBerserk) {\n                command += 'berserk '\n            } else {\n                command += 'flyinglash '\n            }\n        } else if (MSys.stance == 'Flare') {\n            command += 'rend '\n        } else if (MSys.stance == 'Eruption') {\n            if (MSys.rage / MSys.maxRage > .73  && MSys.unstoppable == false) {\n                command += 'unstoppable '\n            } else {\n                command += 'strike '\n            }\n        }\n    }else if (MSys.first_name == 'Oga') {\n        var next = ''\n        command = 'combo '\n\n        //Battleflow attack\n        if (MSys.stance == 'Symmetry') {\n            command += 'gutrend '\n            next = 'Ember'\n        } else if (MSys.stance == 'Ember') {\n            command += 'legspike '\n            next = 'Symmetry'\n        } else if (MSys.stance == 'Flare') {\n            command += 'sear '\n            next = 'Symmetry'\n        }\n\n        //Rage Attack\n        if (MSys.unstoppable) {\n            command += 'slice '\n        } else if (next == 'Symmetry') {\n            if (MSys.rage / MSys.maxRage > .8  && MSys.unstoppable == false) {\n                command += 'unstoppable '\n            } else {\n                command += 'deflect '\n            }\n        } else if (next == 'Ember') {\n            command += 'resistant '\n        } else if (next == 'Flare') {\n            command += 'reel '\n        }\n    }\n\n    if (command[command.length - 1] == ' ') {\n    \tcommand += get_variable('tar')\n    }\n    send_command(command)\n}\n\nMSys.loaded(\"Starwraith Fury Combat Implant v\" + MSys.SFCIversion + \" Loaded. See HFURY and HSETUP for config options. Good hunting, and good death.\");\nsend_command('wakeup')","items":[]},{"type":"function","name":"onGMCP","enabled":true,"id":3,"code":"// Place any code here you'd like to run when a GMCP message is received\n// - The GMCP message is received as \"args.gmcp_method\" and \"args.gmcp_args\"\n\nGMCP[args.gmcp_method] = args.gmcp_args\n\n/* ------------------------------------------ CHARACTER STUFF ----------------------------------- */\n\nif (args.gmcp_method == \"Char.Vitals\") {\n\n        MSys.stance = args.gmcp_args.st\n        MSys.rage = args.gmcp_args.rg\n        MSys.maxRage = args.gmcp_args.maxrg\n}\n\n/* -------------------------------------------- ITEMS IN ROOM ----------------------------------- */\n\n\n//Add items when items enter\nif (args.gmcp_method == \"Char.Items.Add\") {\n    let itemJoining = args.gmcp_args['item']\n    \n    if (MSys.infernoCharging && itemJoining.attrib == 'm') {\n    \tsend_command('asdf')\n        MSys.infernoCharging = false\n        MSys.alert('mob entered - inferno cancelled', 'white', 'red')\n    }\n}","items":[]},{"type":"group","name":"Fury","enabled":true,"id":69,"items":[{"type":"group","name":"Configuration","enabled":true,"id":144,"items":[{"type":"alias","name":"hfury - Fury Abilities","enabled":true,"id":84,"matching":"exact","whole_words":true,"case_sensitive":false,"prefix_suffix":true,"actions":[{"action":"script","script":"MSys.notice(\"Commands:\", MSys.color.config)\n\nvar commands = ''\ncommands += 'hberserk - toggle using Berserk\\n'\ncommands += 'hfever - toggle using Fever\\n'\ncommands += 'hblade <shape> - set the desired Bladeshape\\n'\n\nMSys.log(commands, 'white')\n\nMSys.notice(\"Current settings:\", MSys.color.config)\n\nvar abilities = ''\nabilities += 'Berserk: ' + get_variable('useBerserk') + '\\n'\nabilities += 'Fever: ' + get_variable('useFever') + '\\n'\nabilities += 'Heal: ' + get_variable('useHeal') + '\\n'\nabilities += 'Bladeshape: ' + MSys.bladeshape + '\\n'\nabilities += 'Desired blade shape set to: ' + get_variable('kithbladeshape') + '\\n'\nabilities += 'Goal: ' + MSys.goal + '\\n'\n\nMSys.log(abilities, 'white')"}],"text":"hfury","items":[]},{"type":"alias","name":"hberserk - Toggle Berserk ","enabled":true,"id":76,"matching":"exact","whole_words":true,"case_sensitive":false,"prefix_suffix":true,"actions":[{"action":"script","script":"MSys.useBerserk = MSys.toggle('useBerserk', 'Berserk');"}],"text":"hberserk","items":[]},{"type":"alias","name":"hfever - Toggle Fever","enabled":true,"id":80,"matching":"exact","whole_words":true,"case_sensitive":false,"prefix_suffix":true,"actions":[{"action":"script","script":"MSys.useFever = MSys.toggle('useFever', 'Fever');"}],"text":"hfever","items":[]},{"type":"alias","name":"hblade - Set Bladeshape","enabled":true,"id":121,"matching":"regexp","whole_words":false,"case_sensitive":false,"prefix_suffix":true,"actions":[{"action":"script","script":"set_variable('kithbladeshape', args[1])\nMSys.notice('Set desired kithblade shape to: ' + get_variable('kithbladeshape'))"}],"text":"^hblade (.+)","items":[]}],"actions":[]},{"type":"group","name":"Shortcuts","enabled":true,"id":145,"items":[{"type":"alias","name":"Inferno - inf","enabled":true,"id":116,"matching":"exact","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"command","command":"KITH INFERNO","prefix_suffix":true}],"text":"inf","items":[]},{"type":"keybind","name":"","enabled":true,"id":117,"key":110,"actions":[{"action":"script","script":"var dt = new Date()\nMSys.ttk = dt.getTime()\n\nMSys.infernoCharging = true\n\nsend_command('KITH INFERNO')"}],"key_alt":false,"key_ctrl":false,"key_shift":false,"items":[]},{"type":"keybind","name":"","enabled":true,"id":122,"key":106,"actions":[{"action":"command","command":"KITH SUFFUSE"}],"key_alt":false,"key_ctrl":false,"key_shift":false,"items":[]}],"actions":[]},{"type":"group","name":"Ability Activations","enabled":true,"id":146,"items":[{"type":"trigger","name":"Kithblade Shaped","enabled":true,"id":70,"matching":"regexp","whole_words":true,"case_sensitive":true,"text":"Resting your hand on the hilt of","actions":[{"action":"script","script":"MSys.bladeshape = true\nif (MSys.systemEnabled === true) {\n\tMSys.huntingAttack()\n}"}],"items":[]},{"type":"trigger","name":"Kithblade Unshaped","enabled":true,"id":86,"matching":"regexp","whole_words":false,"case_sensitive":false,"text":"The blade of .+ shimmers and warps.+","actions":[{"action":"script","script":"MSys.notice('Bladeshape Off', MSys.color.warning)\nMSys.bladeshape = false\n\n//var a = new Audio('https://freesound.org/people/Stopmotionbros/sounds/438991/download/438991__stopmotionbros__wind.m4a')\n//a.play()"}],"items":[]},{"type":"trigger","name":"Fever On","enabled":true,"id":79,"matching":"regexp","whole_words":true,"case_sensitive":true,"text":"Your mind extends towards the vulnerabilities of .+ body, and with your connection to the universe's energy, you begin to increase the heat in every cell, flushing .+ with a raging fever.","actions":[{"action":"script","script":"MSys.fever = true\nMSys.interrupt = false"}],"items":[]},{"type":"trigger","name":"Unstoppable On","enabled":true,"id":71,"matching":"exact","whole_words":true,"case_sensitive":true,"text":"Your rage overwhelms you, you become unstoppable!","actions":[{"action":"script","script":"MSys.unstoppable = true\nMSys.log('YES UNSTOPPABLE', MSys.color.info)\n\nif (MSys.systemEnabled) {\n\tMSys.huntingAttack()\n}"}],"items":[]},{"type":"trigger","name":"Unstoppable Off","enabled":true,"id":72,"matching":"exact","whole_words":true,"case_sensitive":true,"text":"You no longer feel unstoppable!","actions":[{"action":"script","script":"MSys.unstoppable = false\nMSys.log('NO UNSTOPPABLE', MSys.color.warning)\n\nif (MSys.systemEnabled) {\n\tMSys.huntingAttack()\n}"}],"items":[]},{"type":"trigger","name":"Hypertension On","enabled":true,"id":85,"matching":"regexp","whole_words":true,"case_sensitive":true,"text":"^Tossing .+ to your off hand, you extend a bloodied palm towards .+ and then clench it into a fist, feeling .+ heart spasm and beat more quickly within .+ chest.$","actions":[{"action":"script","script":"MSys.hypertension = true"}],"items":[]},{"type":"trigger","name":"Heal Ready","enabled":true,"id":77,"matching":"exact","whole_words":true,"case_sensitive":true,"text":"It is safe to suffuse yourself with kith energy again.","actions":[{"action":"script","script":"MSys.healReady = true\n\nif (MSys.systemEnabled) {\n\tMSys.huntingAttack()\n}"},{"action":"highlight","highlight":"line","highlight_backref":"1","highlight_fg":"#51d051","highlight_bg":"#000000"}],"items":[]},{"type":"trigger","name":"Heal Used","enabled":true,"id":78,"matching":"exact","whole_words":true,"case_sensitive":true,"text":"The heart of distant stars and the fire at the center of every planet shimmers in your mind, and you draw upon that power, filling your body with an energy that heals your wounds and suffuses you with a flush of health.","actions":[{"action":"script","script":"MSys.healReady = false\n\nif (MSys.systemEnabled) {\n\tMSys.huntingAttack()\n}"}],"items":[]},{"type":"trigger","name":"Berserk On","enabled":true,"id":74,"matching":"regexp","whole_words":true,"case_sensitive":true,"text":"^You go berserk, flailing .*$","actions":[{"action":"script","script":"MSys.berserk = true\n\nif (MSys.systemEnabled) {\n\tMSys.huntingAttack()\n}"}],"items":[]},{"type":"trigger","name":"Berserk Off","enabled":true,"id":75,"matching":"exact","whole_words":true,"case_sensitive":true,"text":"You are no longer berserk.","actions":[{"action":"script","script":"MSys.berserk = false\n\nif (MSys.systemEnabled) {\n\tMSys.huntingAttack()\n}"}],"items":[]},{"type":"trigger","name":"Attack after Inferno","enabled":true,"id":118,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"The searing wave of your inferno engulfs","actions":[{"action":"script","script":"MSys.systemEnabled = true\nMSys.offenseEnabled = true\nMSys.infernoCharging = false\n\nMSys.huntingAttack()"}],"items":[]},{"type":"trigger","name":"Harden On","enabled":true,"id":147,"matching":"regexp","whole_words":false,"case_sensitive":false,"text":"^You focus on hardening your skin with kith energy.$|^Your internals are already hardened.$|^That requires the Harden ability in the Fulmination skill, which you haven't learned.$","actions":[{"action":"script","script":"MSys.harden = true\nMSys.huntingAttack()"}]},{"type":"trigger","name":"Warmth On","enabled":true,"id":148,"matching":"regexp","whole_words":false,"case_sensitive":false,"text":"^You focus on warming up your skin with kith energy.$|^You're already protected from being frozen.$|^That requires the Warmth ability in the Fulmination skill, which you haven't learned.$","actions":[{"action":"script","script":"MSys.warmth = true\nMSys.huntingAttack()"}]},{"type":"trigger","name":"Balancing On","enabled":true,"id":149,"matching":"regexp","whole_words":false,"case_sensitive":false,"text":"^You focus on your kith to prevent falling.$|^You're already balancing.$|^That requires the Balancing ability in the Fulmination skill, which you haven't learned.$","actions":[{"action":"script","script":"MSys.balancing = true\nMSys.huntingAttack()"}]},{"type":"trigger","name":"Fireweathe On","enabled":true,"id":150,"matching":"regexp","whole_words":false,"case_sensitive":false,"text":"^You form a wreathe of kith-induced fire around yourself.$|^You are already wreathed in fire.$|^That requires the Firewreathe ability in the Fulmination skill, which you haven't learned.$","actions":[{"action":"script","script":"MSys.firewreathe = true\nMSys.huntingAttack()"}]}],"actions":[]},{"type":"alias","name":"Awaken Fury","enabled":false,"id":143,"matching":"exact","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"command","command":"kith harden","prefix_suffix":true},{"action":"waitfor","text":"^You focus on hardening your skin|^Your internals are already hardened","matching":"regexp","whole_words":false,"case_sensitive":false,"expire":"10"},{"action":"command","command":"kith warmth","prefix_suffix":true},{"action":"waitfor","text":"^You focus on warming up your skin|^You're already protected","matching":"regexp","whole_words":false,"case_sensitive":false,"expire":"10"},{"action":"command","command":"kith balancing","prefix_suffix":true},{"action":"waitfor","text":"^You focus on your kith to prevent falling.|^You're already balancing","matching":"regexp","whole_words":false,"case_sensitive":false,"expire":"10"},{"action":"command","command":"kith firewreathe","prefix_suffix":true}],"text":"wakeup","items":[]},{"type":"trigger","name":"Queue Attack Fury","enabled":true,"id":73,"matching":"regexp","whole_words":false,"case_sensitive":true,"text":"^You flow smoothly into the.+stance.+|^You flow out of your stance.+|^Your mind extends towards the vulnerabilities of.*$","actions":[{"action":"script","script":"MSys.huntingAttack()\n"}],"items":[]}],"actions":[]}],"description":"Starwraith Fury Combat Implant v1.4"}